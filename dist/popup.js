(()=>{"use strict";(()=>{let e=[];const t=document.querySelector("table");function l(){e=[]}function n(){console.log("setting local data from HTML"),l();const n=t.rows.length;for(let l=0;l<n;l++){let n=t.rows.item(l).cells,a=n.length,s=[];for(var o=0;o<a-1;o++){let e=n.item(o).getElementsByTagName("input");if(null!=e[0]){const t=e[0];s.push(t.value)}}e.push(s)}chrome.storage.sync.set({data:e})}function o(){if(console.log("updating HTML"),0==e.length)return void console.log("local data is empty");const l=t.rows.length;for(let o=0;o<l;o++){let l=t.rows.item(o).cells,a=l.length;for(var n=0;n<a-1;n++){let t=l.item(n).getElementsByTagName("input");if(null!=t[0]){const l=t[0];console.log("we are in updateHTML and data is "),s(e),console.log(`data[i][j] is ${e[o][n]}`),l.value=e[o][n]}}}}l(),console.log("running fetchData"),chrome.storage.sync.get(["data"]).catch((e=>{console.log("the reason we couldnt find data is "+e.type)})),chrome.storage.sync.get(["data"],(e=>{console.log("im trying something new "+e.data),""==e.data&&(console.log("chrome's data is empty"),n())})),chrome.storage.sync.get("data").then((t=>{console.log("result[data]: "+t.data);for(let l=0;l<t.data.length;l++)console.log("result[data][i]: "+t.data[l]),e.push(t.data[l])})),console.log("local data after setLocal"),s(e),o(),function(){let e=t.rows.length;for(let a=0;a<e;a++){let e=t.rows.item(a).cells,s=e.length;for(var l=0;l<s-1;l++){let t=e.item(l).getElementsByTagName("input");null!=t[0]&&t[0].addEventListener("change",(e=>{n(),o()}))}}}();const a=document.querySelector("#addingTable");function s(e){for(let t=0;t<e.length;t++)for(let l=0;l<e[t].length;l++)console.log(e[t][l])}document.querySelector("#add").addEventListener("click",(l=>{!function(t,l){let n=l.rows.length;for(let a=0;a<n;a++){let n=l.rows.item(a).cells,s=new Array(0),r=n.length;for(var o=0;o<r-1;o++){let t=n.item(o).getElementsByTagName("input");if(null!=t[0]){const l=t[0];console.log("we are in AddTableRows and "),console.log(`we are adding ${l.value} to data ${e}`),s.push(l.value)}}e.push(s);let c=t.rows.length,i=t.insertRow(c);console.log("inserting row to "+c);let g=i.insertCell(0),u=i.insertCell(1),d=i.insertCell(2),h=i.insertCell(3);g.innerHTML=`<input type="text" value="${s[0]}">`,console.log("cell1 = "+g.innerHTML),u.innerHTML=`<input type="text" value="${s[1]}">`,console.log("cell2 = "+u.innerHTML),d.innerHTML=`<input type="date" value="${s[2]}">`,console.log("cell3 = "+d.innerHTML),h.innerHTML="<button>Done</button>"}}(t,a)}))})()})();